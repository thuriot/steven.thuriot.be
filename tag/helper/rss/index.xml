<?xml version="1.0" encoding="UTF-8"?> <rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" version="2.0"> <channel> <title><![CDATA[Steven Thuriot.be &mdash; Helper]]></title> <description><![CDATA[Thoughts, stories and ideas.]]></description> <link>http://steven.thuriot.be</link> <link href="//steven.thuriot.be/tag/helper/rss/" rel="self" type="application/rss+xml"/> <ttl>60</ttl> <item> <title><![CDATA[How to make building Strings from dates easy?]]></title> <description><![CDATA[While the DateTime object might already have quite some standard formats for its ToString method, it&#39;s just not good enough to use directly in a front-end. ]]></description> <link>//steven.thuriot.be/how-to-make-building-strings-from-dates-easy</link> <guid isPermaLink="true">//steven.thuriot.be/how-to-make-building-strings-from-dates-easy</guid> <pubDate>2010-12-08T14:47:00+00:00</pubDate> <content:encoded><![CDATA[<p>While the DateTime object might already have quite some standard formats for its ToString method, it&#39;s just not good enough to use directly in a front-end.</p> <p>In some applications, outputting dates can become quite a recurring job. Because of this, I decided to write a little helper class. This helper can easily be extended later by overloading the Print method to support other objects than just DateTime.</p> <div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Helpers</span>
<span class="p">{</span>
    <span class="c1">///&lt;summary&gt;</span>
    <span class="c1">/// Helpers.PrintHelper</span>
    <span class="c1">///&lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">PrintHelper</span>
    <span class="p">{</span>
        <span class="c1">///&lt;summary&gt;</span>
        <span class="c1">/// Prints the specified date time.</span>
        <span class="c1">///&lt;/summary&gt;</span>
        <span class="c1">///&lt;param name=&quot;dateTime&quot;&gt;The date time.&lt;/param&gt;</span>
        <span class="c1">///&lt;returns&gt;&lt;/returns&gt;</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">String</span> <span class="nf">Print</span><span class="p">(</span><span class="n">DateTime</span> <span class="n">dateTime</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">dateTime</span><span class="p">.</span><span class="n">ToString</span>
                <span class="p">(</span>
                    <span class="s">&quot;dddd, &#39;&quot;</span> <span class="p">+</span>
                    <span class="n">AddOrdinal</span><span class="p">(</span><span class="n">dateTime</span><span class="p">.</span><span class="n">Day</span><span class="p">)</span> <span class="p">+</span>
                    <span class="s">&quot; of&#39; MMMM yyyy &#39;at&#39; HH:mm:ss&quot;</span>
                <span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">///&lt;summary&gt;</span>
        <span class="c1">/// Adds the ordinal.</span>
        <span class="c1">///&lt;/summary&gt;</span>
        <span class="c1">///&lt;param name=&quot;day&quot;&gt;The day.&lt;/param&gt;</span>
        <span class="c1">///&lt;returns&gt;&lt;/returns&gt;</span>
        <span class="k">private</span> <span class="k">static</span> <span class="kt">string</span> <span class="nf">AddOrdinal</span><span class="p">(</span><span class="kt">int</span> <span class="n">day</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">switch</span> <span class="p">(</span><span class="n">day</span> <span class="p">%</span> <span class="m">100</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="m">11</span><span class="p">:</span>
                <span class="k">case</span> <span class="m">12</span><span class="p">:</span>
                <span class="k">case</span> <span class="m">13</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">day</span><span class="p">.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">+</span> <span class="s">&quot;th&quot;</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">switch</span> <span class="p">(</span><span class="n">day</span> <span class="p">%</span> <span class="m">10</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">case</span> <span class="m">1</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">day</span><span class="p">.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">+</span> <span class="s">&quot;st&quot;</span><span class="p">;</span>
                <span class="k">case</span> <span class="m">2</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">day</span><span class="p">.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">+</span> <span class="s">&quot;nd&quot;</span><span class="p">;</span>
                <span class="k">case</span> <span class="m">3</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">day</span><span class="p">.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">+</span> <span class="s">&quot;rd&quot;</span><span class="p">;</span>
                <span class="k">default</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">day</span><span class="p">.</span><span class="n">ToString</span><span class="p">()</span> <span class="p">+</span> <span class="s">&quot;th&quot;</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>You can then use it as following:</p> <div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">String</span> <span class="n">date</span> <span class="p">=</span> <span class="n">Helpers</span><span class="p">.</span><span class="n">PrintHelper</span><span class="p">.</span><span class="n">Print</span><span class="p">(</span><span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">);</span>
</code></pre></div> <p>The variable &quot;date&quot; will then contain the datetime, formatted beautifully, including ordinals.</p> <div class="highlight"><pre><code class="language-xml" data-lang="xml">8th of December 2010 at 14:46:00
</code></pre></div>]]></content:encoded> </item> <item> <title><![CDATA[How to check if periods overlap and/or contain another period?]]></title> <description><![CDATA[Checking for overlap can be quite tricky. It&#39;s not hard at all to make the whole process far too complicated, resulting in a lot of overhead. Because of this, I decided to think about the easiest way to check for this and expand my helper class from the previous post. ]]></description> <link>//steven.thuriot.be/how-to-check-if-periods-overlap-andor-contain-another-period</link> <guid isPermaLink="true">//steven.thuriot.be/how-to-check-if-periods-overlap-andor-contain-another-period</guid> <pubDate>2010-12-09T11:39:00+00:00</pubDate> <content:encoded><![CDATA[<p>Checking for overlap can be quite tricky. It&#39;s not hard at all to make the whole process far too complicated, resulting in a lot of overhead. Because of this, I decided to think about the easiest way to check for this and expand my helper class from the previous post.</p> <p>Imagine having a class called <code>Period</code>. This class contains a start and end date.</p> <div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">Period</span>
<span class="p">{</span>
    <span class="c1">///&lt;summary&gt;</span>
    <span class="c1">/// Gets or sets the start date.</span>
    <span class="c1">///&lt;/summary&gt;</span>
    <span class="c1">///&lt;value&gt;The start date.&lt;/value&gt;</span>
    <span class="k">public</span> <span class="n">DateTime</span> <span class="n">Start</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

    <span class="c1">///&lt;summary&gt;</span>
    <span class="c1">/// Gets or sets the end date.</span>
    <span class="c1">///&lt;/summary&gt;</span>
    <span class="c1">///&lt;value&gt;The end date.&lt;/value&gt;</span>
    <span class="k">public</span> <span class="n">DateTime</span> <span class="n">End</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>The helper class accepts two periods. It is possible to check if the periods overlap or if one period completely contains the other.</p> <div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Helpers</span>
<span class="p">{</span>
    <span class="c1">///&lt;summary&gt;</span>
    <span class="c1">/// Helpers.OverlapHelper</span>
    <span class="c1">///&lt;/summary&gt;</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">OverlapHelper</span>
    <span class="p">{</span>
        <span class="c1">///&lt;summary&gt;</span>
        <span class="c1">/// Determines whether the specified periods overlap.</span>
        <span class="c1">///&lt;/summary&gt;</span>
        <span class="c1">///&lt;param name=&quot;period1&quot;&gt;The first period.&lt;/param&gt;</span>
        <span class="c1">///&lt;param name=&quot;period2&quot;&gt;The second period.&lt;/param&gt;</span>
        <span class="c1">///&lt;returns&gt;</span>
        <span class="c1">///     &lt;c&gt;true&lt;/c&gt; if the specified periods overlap; otherwise,&lt;c&gt;false&lt;/c&gt;.</span>
        <span class="c1">///&lt;/returns&gt;</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">Boolean</span> <span class="nf">HasOverlap</span><span class="p">(</span><span class="n">Period</span> <span class="n">period1</span><span class="p">,</span> <span class="n">Period</span> <span class="n">period2</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">period2</span><span class="p">.</span><span class="n">Start</span><span class="p">&lt;</span> <span class="n">period1</span><span class="p">.</span><span class="n">End</span> <span class="p">&amp;</span><span class="n">amp</span><span class="p">;&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">period2</span><span class="p">.</span><span class="n">End</span> <span class="p">&gt;</span> <span class="n">period1</span><span class="p">.</span><span class="n">Start</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">///&lt;summary&gt;</span>
        <span class="c1">/// Determines whether period1 contains period2.</span>
        <span class="c1">///&lt;/summary&gt;</span>
        <span class="c1">///&lt;param name=&quot;period1&quot;&gt;The first period.&lt;/param&gt;</span>
        <span class="c1">///&lt;param name=&quot;period2&quot;&gt;The second period.&lt;/param&gt;</span>
        <span class="c1">///&lt;returns&gt;</span>
        <span class="c1">///     &lt;c&gt;true&lt;/c&gt; if period1 contains period2; otherwise,&lt;c&gt;false&lt;/c&gt;.</span>
        <span class="c1">///&lt;/returns&gt;</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">Boolean</span> <span class="nf">Contains</span><span class="p">(</span><span class="n">Period</span> <span class="n">period1</span><span class="p">,</span> <span class="n">Period</span> <span class="n">period2</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">period2</span><span class="p">.</span><span class="n">Start</span> <span class="p">&gt;=</span> <span class="n">period1</span><span class="p">.</span><span class="n">Start</span> <span class="p">&amp;</span><span class="n">amp</span><span class="p">;&amp;</span><span class="n">amp</span><span class="p">;</span> <span class="n">period2</span><span class="p">.</span><span class="n">End</span><span class="p">&lt;=</span> <span class="n">period1</span><span class="p">.</span><span class="n">End</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>And of course, some test cases. Period 1 starts March 23rd and stops March 28th.</p> <p><strong>Testcases for Overlap</strong></p> <div class="highlight"><pre><code class="language-xml" data-lang="xml">18/3 – 25/3 –&gt; true  <span class="err">&amp;&amp;</span> true  –&gt; true
18/3 – 29/3 –&gt; true  <span class="err">&amp;&amp;</span> true  –&gt; true
25/3 – 29/3 –&gt; true  <span class="err">&amp;&amp;</span> true  –&gt; true
24/3 – 27/3 –&gt; true  <span class="err">&amp;&amp;</span> true  –&gt; true
18/3 – 22/3 –&gt; true  <span class="err">&amp;&amp;</span> false –&gt; false
29/3 – 30/3 –&gt; false <span class="err">&amp;&amp;</span> true  –&gt; false
</code></pre></div> <p><strong>Testcases for Contains</strong></p> <div class="highlight"><pre><code class="language-xml" data-lang="xml">18/3 – 25/3 –&gt; false <span class="err">&amp;&amp;</span> true  –&gt; false
18/3 – 29/3 –&gt; false <span class="err">&amp;&amp;</span> false –&gt; false
25/3 – 29/3 –&gt; true  <span class="err">&amp;&amp;</span> false –&gt; false
24/3 – 27/3 –&gt; true  <span class="err">&amp;&amp;</span> true  –&gt; true
18/3 – 22/3 –&gt; false <span class="err">&amp;&amp;</span> true  –&gt; false
29/3 – 30/3 –&gt; true  <span class="err">&amp;&amp;</span> false –&gt; false
</code></pre></div>]]></content:encoded> </item> <item> <title><![CDATA[Testing for exceptions]]></title> <description><![CDATA[Every piece of software should at least have unit tests. Quite a few of these tests will probably be used to see if the method is correctly throwing an exception when needed. ]]></description> <link>//steven.thuriot.be/testing-for-exceptions</link> <guid isPermaLink="true">//steven.thuriot.be/testing-for-exceptions</guid> <pubDate>2010-12-30T12:51:00+00:00</pubDate> <content:encoded><![CDATA[<p>Every piece of software should at least have unit tests. Quite a few of these tests will probably be used to see if the method is correctly throwing an exception when needed.</p> <p>However, often the unit test&#39;s <em>ExpectedException</em> attribute just doesn&#39;t cut it. Imagine having two possible exceptions thrown from a certain method, both having the same exception type but different messages. To make testing for this easier, I wrote a little helper class!</p> <div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Microsoft.VisualStudio.TestTools.UnitTesting</span><span class="p">;</span>
<span class="k">namespace</span> <span class="nn">Assertion.Test</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">AssertHelper</span>
    <span class="p">{</span>
        <span class="c1">///&lt;summary&gt;</span>
        <span class="c1">/// Checks of the action throws the specified Exception.</span>
        <span class="c1">/// It also checks if the messages are the same.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;typeparam name=&quot;T&quot;&gt;The type of exception to be thrown.&lt;/typeparam&gt;</span>
        <span class="c1">/// &lt;param name=&quot;action&quot;&gt;The action to be performed.&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name=&quot;expectedMessage&quot;&gt;The expected message.&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="n">Throws</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">Action</span> <span class="n">action</span><span class="p">,</span> <span class="n">String</span> <span class="n">expectedMessage</span><span class="p">)</span>
             <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="n">Exception</span>
        <span class="p">{</span>
            <span class="n">Boolean</span> <span class="n">fail</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>

            <span class="k">try</span>
            <span class="p">{</span>
                <span class="n">action</span><span class="p">.</span><span class="n">Invoke</span><span class="p">();</span>
                <span class="n">fail</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">exc</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Assert</span><span class="p">.</span><span class="n">AreEqual</span><span class="p">&lt;</span><span class="n">Type</span><span class="p">&gt;(</span><span class="k">typeof</span><span class="p">(</span><span class="n">T</span><span class="p">),</span> <span class="n">exc</span><span class="p">.</span><span class="n">GetType</span><span class="p">(),</span>
                         <span class="s">&quot;An exception of the wrong type was thrown ({0} instead of {1}).&quot;</span><span class="p">,</span>
                         <span class="n">exc</span><span class="p">.</span><span class="n">GetType</span><span class="p">().</span><span class="n">Name</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">T</span><span class="p">).</span><span class="n">Name</span><span class="p">);</span>
                <span class="n">Assert</span><span class="p">.</span><span class="n">AreEqual</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;(</span><span class="n">expectedMessage</span><span class="p">,</span> <span class="n">exc</span><span class="p">.</span><span class="n">Message</span><span class="p">,</span> <span class="s">&quot;The messages are not equal.&quot;</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">fail</span><span class="p">)</span>
                <span class="n">Assert</span><span class="p">.</span><span class="n">Fail</span><span class="p">(</span><span class="s">&quot;Exception of type {0} should have been thrown.&quot;</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">T</span><span class="p">).</span><span class="n">Name</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>This method will check if the exception gets thrown, if it throws the correct type of exception and if the message is correct!</p> <p>Using it goes as follows:</p> <div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">AssertHelper</span><span class="p">.</span><span class="n">Throws</span><span class="p">&lt;</span><span class="n">RepositoryException</span><span class="p">&gt;</span>
<span class="p">(</span>
    <span class="p">()</span> <span class="p">=&gt;</span> <span class="kt">object</span><span class="p">.</span><span class="n">Method</span><span class="p">(),</span>
    <span class="s">&quot;This is the exception&#39;s message!&quot;</span>
<span class="p">);</span>
</code></pre></div> <p>The generic refers to the exception that you are expecting. The first parameter is the method that will be called, the second is the message that the thrown exception will show.</p> ]]></content:encoded> </item> <item> <title><![CDATA[Modal Message Box for WinForms in .NET 2.0+]]></title> <description><![CDATA[The other day at work I felt the need to show the user a message, but wanted to do it a bit more fancy than just use the regular, old, boring MessageBox. ]]></description> <link>//steven.thuriot.be/modal-message-box-for-winforms-in-net-2-0</link> <guid isPermaLink="true">//steven.thuriot.be/modal-message-box-for-winforms-in-net-2-0</guid> <pubDate>2012-01-12T19:40:00+00:00</pubDate> <content:encoded><![CDATA[<p>The other day at work I felt the need to show the user a message, but wanted to do it a bit more fancy than just use the regular, old, boring MessageBox. </p> <p>I personally really enjoy the &quot;LightBox effect&quot; where the background darkens and the LightBox popped up. Because of the way WinForms work, this wasn&#39;t as simple as I was hoping it would be. I worked out a little solution and decided to share.</p> <div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">ModalMessageBox</span> <span class="p">:</span> <span class="n">Form</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="nf">ModalMessageBox</span><span class="p">(</span><span class="n">Form</span> <span class="n">parent</span><span class="p">,</span> <span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="n">MessageBoxButtons</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">Font</span> <span class="n">font</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">parent</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentNullException</span><span class="p">(</span><span class="s">&quot;parent&quot;</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">message</span><span class="p">))</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentNullException</span><span class="p">(</span><span class="s">&quot;message&quot;</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">font</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentNullException</span><span class="p">(</span><span class="s">&quot;font&quot;</span><span class="p">);</span>

        <span class="n">InitializeComponent</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">font</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">InitializeOKButton</span><span class="p">(</span><span class="n">Form</span> <span class="n">parent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">okButton</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Button</span>
                            <span class="p">{</span>
                                <span class="n">Anchor</span> <span class="p">=</span> <span class="p">(((</span><span class="n">AnchorStyles</span><span class="p">.</span><span class="n">Bottom</span> <span class="p">|</span> <span class="n">AnchorStyles</span><span class="p">.</span><span class="n">Right</span><span class="p">))),</span>
                                <span class="n">Size</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Size</span><span class="p">(</span><span class="m">99</span><span class="p">,</span> <span class="m">23</span><span class="p">),</span>
                                <span class="n">TabIndex</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
                                <span class="n">Text</span> <span class="p">=</span> <span class="s">&quot;OK&quot;</span><span class="p">,</span>
                                <span class="n">UseVisualStyleBackColor</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
                                <span class="n">DialogResult</span> <span class="p">=</span> <span class="n">DialogResult</span><span class="p">.</span><span class="n">OK</span><span class="p">,</span>
                            <span class="p">};</span>

        <span class="n">okButton</span><span class="p">.</span><span class="n">Location</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ClientSize</span><span class="p">.</span><span class="n">Width</span> <span class="p">-</span> <span class="n">okButton</span><span class="p">.</span><span class="n">Size</span><span class="p">.</span><span class="n">Width</span> <span class="p">-</span> <span class="m">11</span><span class="p">,</span>
                                        <span class="n">parent</span><span class="p">.</span><span class="n">ClientSize</span><span class="p">.</span><span class="n">Height</span> <span class="p">-</span> <span class="n">okButton</span><span class="p">.</span><span class="n">Size</span><span class="p">.</span><span class="n">Height</span> <span class="p">-</span> <span class="m">11</span><span class="p">);</span>


        <span class="n">Controls</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">okButton</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">InitializeYesNoButtons</span><span class="p">(</span><span class="n">Form</span> <span class="n">parent</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">var</span> <span class="n">noButton</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Button</span>
                            <span class="p">{</span>
                                <span class="n">Anchor</span> <span class="p">=</span> <span class="p">(((</span><span class="n">AnchorStyles</span><span class="p">.</span><span class="n">Bottom</span> <span class="p">|</span> <span class="n">AnchorStyles</span><span class="p">.</span><span class="n">Right</span><span class="p">))),</span>
                                <span class="n">Size</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Size</span><span class="p">(</span><span class="m">99</span><span class="p">,</span> <span class="m">23</span><span class="p">),</span>
                                <span class="n">TabIndex</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span>
                                <span class="n">Text</span> <span class="p">=</span> <span class="s">&quot;No&quot;</span><span class="p">,</span>
                                <span class="n">UseVisualStyleBackColor</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
                                <span class="n">DialogResult</span> <span class="p">=</span> <span class="n">DialogResult</span><span class="p">.</span><span class="n">No</span>
                            <span class="p">};</span>

        <span class="n">noButton</span><span class="p">.</span><span class="n">Location</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ClientSize</span><span class="p">.</span><span class="n">Width</span> <span class="p">-</span> <span class="n">noButton</span><span class="p">.</span><span class="n">Size</span><span class="p">.</span><span class="n">Width</span> <span class="p">-</span> <span class="m">11</span><span class="p">,</span>
                                        <span class="n">parent</span><span class="p">.</span><span class="n">ClientSize</span><span class="p">.</span><span class="n">Height</span> <span class="p">-</span> <span class="n">noButton</span><span class="p">.</span><span class="n">Size</span><span class="p">.</span><span class="n">Height</span> <span class="p">-</span> <span class="m">11</span><span class="p">);</span>

        <span class="n">Controls</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">noButton</span><span class="p">);</span>

        <span class="kt">var</span> <span class="n">yesButton</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Button</span>
                            <span class="p">{</span>
                                <span class="n">Anchor</span> <span class="p">=</span> <span class="p">(((</span><span class="n">AnchorStyles</span><span class="p">.</span><span class="n">Bottom</span> <span class="p">|</span> <span class="n">AnchorStyles</span><span class="p">.</span><span class="n">Right</span><span class="p">))),</span>
                                <span class="n">Size</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Size</span><span class="p">(</span><span class="m">99</span><span class="p">,</span> <span class="m">23</span><span class="p">),</span>
                                <span class="n">TabIndex</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
                                <span class="n">Text</span> <span class="p">=</span> <span class="s">&quot;Yes&quot;</span><span class="p">,</span>
                                <span class="n">UseVisualStyleBackColor</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
                                <span class="n">DialogResult</span> <span class="p">=</span> <span class="n">DialogResult</span><span class="p">.</span><span class="n">Yes</span>
                            <span class="p">};</span>

        <span class="n">yesButton</span><span class="p">.</span><span class="n">Location</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ClientSize</span><span class="p">.</span><span class="n">Width</span> <span class="p">-</span> <span class="n">yesButton</span><span class="p">.</span><span class="n">Size</span><span class="p">.</span><span class="n">Width</span> <span class="p">-</span> <span class="n">noButton</span><span class="p">.</span><span class="n">Width</span> <span class="p">-</span> <span class="m">16</span><span class="p">,</span>
                                        <span class="n">parent</span><span class="p">.</span><span class="n">ClientSize</span><span class="p">.</span><span class="n">Height</span> <span class="p">-</span> <span class="n">yesButton</span><span class="p">.</span><span class="n">Size</span><span class="p">.</span><span class="n">Height</span> <span class="p">-</span> <span class="m">11</span><span class="p">);</span>

        <span class="n">Controls</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">yesButton</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">InitializeComponent</span><span class="p">(</span><span class="n">Form</span> <span class="n">parent</span><span class="p">,</span> <span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="n">MessageBoxButtons</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">Font</span> <span class="n">font</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">SuspendLayout</span><span class="p">();</span>

        <span class="kt">var</span> <span class="n">questionLabel</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Label</span>
                                <span class="p">{</span>
                                    <span class="n">Anchor</span> <span class="p">=</span> <span class="n">AnchorStyles</span><span class="p">.</span><span class="n">Top</span> <span class="p">|</span> <span class="n">AnchorStyles</span><span class="p">.</span><span class="n">Bottom</span> <span class="p">|</span> <span class="n">AnchorStyles</span><span class="p">.</span><span class="n">Left</span> <span class="p">|</span> <span class="n">AnchorStyles</span><span class="p">.</span><span class="n">Right</span><span class="p">,</span>
                                    <span class="n">BackColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">White</span><span class="p">,</span>
                                    <span class="n">BorderStyle</span> <span class="p">=</span> <span class="n">BorderStyle</span><span class="p">.</span><span class="n">FixedSingle</span><span class="p">,</span>
                                    <span class="n">Font</span> <span class="p">=</span> <span class="n">font</span><span class="p">,</span>
                                    <span class="n">ForeColor</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">Black</span><span class="p">,</span>
                                    <span class="n">ImeMode</span> <span class="p">=</span> <span class="n">ImeMode</span><span class="p">.</span><span class="n">NoControl</span><span class="p">,</span>
                                    <span class="n">Location</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="m">10</span><span class="p">,</span> <span class="m">42</span><span class="p">),</span>
                                    <span class="n">TabIndex</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span>
                                    <span class="n">Text</span> <span class="p">=</span> <span class="n">message</span><span class="p">,</span>
                                    <span class="n">TextAlign</span> <span class="p">=</span> <span class="n">ContentAlignment</span><span class="p">.</span><span class="n">MiddleCenter</span>
                                <span class="p">};</span>

        <span class="kt">var</span> <span class="n">height</span> <span class="p">=</span> <span class="n">parent</span><span class="p">.</span><span class="n">ClientSize</span><span class="p">.</span><span class="n">Height</span> <span class="p">-</span> <span class="m">78</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">height</span> <span class="p">&gt;</span> <span class="m">300</span><span class="p">)</span>
            <span class="n">height</span> <span class="p">=</span> <span class="m">300</span><span class="p">;</span>

        <span class="n">questionLabel</span><span class="p">.</span><span class="n">Size</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Size</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ClientSize</span><span class="p">.</span><span class="n">Width</span> <span class="p">-</span> <span class="m">20</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>

        <span class="n">MaximizeBox</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="n">MinimizeBox</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="n">ShowInTaskbar</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="n">SizeGripStyle</span> <span class="p">=</span> <span class="n">SizeGripStyle</span><span class="p">.</span><span class="n">Hide</span><span class="p">;</span>
        <span class="n">FormBorderStyle</span> <span class="p">=</span> <span class="n">FormBorderStyle</span><span class="p">.</span><span class="n">None</span><span class="p">;</span>

        <span class="n">StartPosition</span> <span class="p">=</span> <span class="n">FormStartPosition</span><span class="p">.</span><span class="n">Manual</span><span class="p">;</span>
        <span class="n">ClientSize</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Size</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ClientSize</span><span class="p">.</span><span class="n">Width</span> <span class="p">+</span> <span class="m">2</span><span class="p">,</span> <span class="n">parent</span><span class="p">.</span><span class="n">ClientSize</span><span class="p">.</span><span class="n">Height</span> <span class="p">+</span> <span class="m">2</span><span class="p">);</span>

        <span class="n">Rectangle</span> <span class="n">screenRectangle</span> <span class="p">=</span> <span class="n">parent</span><span class="p">.</span><span class="n">RectangleToScreen</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">ClientRectangle</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">titleHeight</span> <span class="p">=</span> <span class="n">screenRectangle</span><span class="p">.</span><span class="n">Top</span> <span class="p">-</span> <span class="n">parent</span><span class="p">.</span><span class="n">Top</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">borderWidth</span> <span class="p">=</span> <span class="n">screenRectangle</span><span class="p">.</span><span class="n">Left</span> <span class="p">-</span> <span class="n">parent</span><span class="p">.</span><span class="n">Left</span><span class="p">;</span>

        <span class="n">Location</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Point</span><span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">Location</span><span class="p">.</span><span class="n">X</span> <span class="p">+</span> <span class="n">borderWidth</span> <span class="p">-</span> <span class="m">1</span><span class="p">,</span> <span class="n">parent</span><span class="p">.</span><span class="n">Location</span><span class="p">.</span><span class="n">Y</span> <span class="p">+</span> <span class="n">titleHeight</span> <span class="p">-</span> <span class="m">1</span><span class="p">);</span>

        <span class="n">TransparencyKey</span> <span class="p">=</span> <span class="n">Color</span><span class="p">.</span><span class="n">LightSteelBlue</span><span class="p">;</span>

        <span class="kt">var</span> <span class="n">hatchBrush</span> <span class="p">=</span> <span class="k">new</span> <span class="n">HatchBrush</span><span class="p">(</span><span class="n">HatchStyle</span><span class="p">.</span><span class="n">Percent50</span><span class="p">,</span> <span class="n">TransparencyKey</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">backgroundImage</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Bitmap</span><span class="p">(</span><span class="m">50</span><span class="p">,</span> <span class="m">50</span><span class="p">);</span>

        <span class="n">Graphics</span> <span class="n">imageGraphics</span> <span class="p">=</span> <span class="n">Graphics</span><span class="p">.</span><span class="n">FromImage</span><span class="p">(</span><span class="n">backgroundImage</span><span class="p">);</span>
        <span class="n">imageGraphics</span><span class="p">.</span><span class="n">FillRectangle</span><span class="p">(</span><span class="n">hatchBrush</span><span class="p">,</span> <span class="n">DisplayRectangle</span><span class="p">);</span>

        <span class="n">AllowTransparency</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="n">backgroundImage</span><span class="p">.</span><span class="n">MakeTransparent</span><span class="p">(</span><span class="n">TransparencyKey</span><span class="p">);</span>

        <span class="n">BackColor</span> <span class="p">=</span> <span class="n">TransparencyKey</span><span class="p">;</span>
        <span class="n">BackgroundImage</span> <span class="p">=</span> <span class="n">backgroundImage</span><span class="p">;</span>
        <span class="n">BackgroundImageLayout</span> <span class="p">=</span> <span class="n">ImageLayout</span><span class="p">.</span><span class="n">Tile</span><span class="p">;</span>

        <span class="n">Controls</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">questionLabel</span><span class="p">);</span>

        <span class="k">switch</span> <span class="p">(</span><span class="n">buttons</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">case</span> <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">:</span>
                <span class="n">InitializeOKButton</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">YesNo</span><span class="p">:</span>
                <span class="n">InitializeYesNoButtons</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="k">default</span><span class="p">:</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentOutOfRangeException</span><span class="p">(</span><span class="s">&quot;buttons&quot;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">ResumeLayout</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">DialogResult</span> <span class="nf">Show</span><span class="p">(</span><span class="n">Form</span> <span class="n">parent</span><span class="p">,</span> <span class="kt">string</span> <span class="n">message</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nf">Show</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">MessageBoxButtons</span><span class="p">.</span><span class="n">OK</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">DialogResult</span> <span class="nf">Show</span><span class="p">(</span><span class="n">Form</span> <span class="n">parent</span><span class="p">,</span> <span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="n">MessageBoxButtons</span> <span class="n">buttons</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nf">Show</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">parent</span><span class="p">.</span><span class="n">Font</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">delegate</span> <span class="n">DialogResult</span> <span class="nf">ShowDelegate</span><span class="p">(</span><span class="n">Form</span> <span class="n">parent</span><span class="p">,</span> <span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="n">MessageBoxButtons</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">Font</span> <span class="n">font</span><span class="p">);</span>

    <span class="k">private</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">ShowDelegate</span> <span class="n">InternalShow</span> <span class="p">=</span> 
        <span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">font</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="n">ModalMessageBox</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">font</span><span class="p">).</span><span class="n">ShowDialog</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>

    <span class="k">public</span> <span class="k">static</span> <span class="n">DialogResult</span> <span class="nf">Show</span><span class="p">(</span><span class="n">Form</span> <span class="n">parent</span><span class="p">,</span> <span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="n">MessageBoxButtons</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">Font</span> <span class="n">font</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">parent</span><span class="p">.</span><span class="n">InvokeRequired</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">parent</span><span class="p">.</span><span class="n">Invoke</span><span class="p">(</span><span class="n">InternalShow</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">font</span><span class="p">);</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">DialogResult</span><span class="p">)</span> <span class="n">result</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nf">InternalShow</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">buttons</span><span class="p">,</span> <span class="n">font</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>The result looks like this:</p> <p>Before the pop-up <a href="//cdn.thuriot.be/images/ModalMessageBox/Input1.png"><img src="//cdn.thuriot.be/images/ModalMessageBox/Input1.png" alt="Input before the message pops up"></a></p> <p>After the pop-up <a href="//cdn.thuriot.be/images/ModalMessageBox/Input2.png"><img src="//cdn.thuriot.be/images/ModalMessageBox/Input2.png" alt="Input after the message pops up"></a></p> ]]></content:encoded> </item> <item> <title><![CDATA[Exceptions and the TPL]]></title> <description><![CDATA[When an exception occurs while using the TPL, it will always get wrapped with an [AggregateException](http://msdn.microsoft.com/en-us/library/system.aggregateexception.aspx) before you can catch and handle it. This makes catching specific exceptions quite bothersome as you&#39;re basically writing a catch-all block. Bad practices set aside, unwrapping the exception usually meant losing the callstack as well. ]]></description> <link>//steven.thuriot.be/exceptions-and-the-tpl</link> <guid isPermaLink="true">//steven.thuriot.be/exceptions-and-the-tpl</guid> <pubDate>2013-11-27T10:50:00+00:00</pubDate> <media:content url="//cdn.thuriot.be/images/Covers/Carnivorous-Rabbit.jpg" medium="image"/> <content:encoded><![CDATA[<p>When an exception occurs while using the TPL, it will always get wrapped with an <a href="http://msdn.microsoft.com/en-us/library/system.aggregateexception.aspx">AggregateException</a> before you can catch and handle it. This makes catching specific exceptions quite bothersome as you&#39;re basically writing a catch-all block. Bad practices set aside, unwrapping the exception usually meant losing the callstack as well.</p> <p>This is, <em>of course</em>, something you do not want to happen as the callstack contains valuable information.</p> <div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">try</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">task</span> <span class="p">=</span> <span class="n">Task</span><span class="p">.</span><span class="n">Run</span><span class="p">(...)</span>
    <span class="n">task</span><span class="p">.</span><span class="n">Wait</span><span class="p">();</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">AggregateException</span> <span class="n">ex</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">ExceptionDispatchInfo</span><span class="p">.</span><span class="n">Capture</span><span class="p">(</span><span class="n">ex</span><span class="p">.</span><span class="n">InnerException</span><span class="p">).</span><span class="n">Throw</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div> <p>Due to the new <a href="http://msdn.microsoft.com/en-us/library/vstudio/hh191443.aspx">async/await</a> system Microsoft introduced in .NET 4.5, they simplified this greatly by introducing the <a href="http://msdn.microsoft.com/en-us/library/system.runtime.exceptionservices.exceptiondispatchinfo.aspx">ExceptionDispatchInfo</a> helper.</p> <p>By using this class, you are able to rethrow a caught exception object without losing the callstack. This allows you to unwrap the <a href="http://msdn.microsoft.com/en-us/library/system.aggregateexception.aspx">AggregateException</a> and rethrow the actual exception. This allows you or the users of your code to catch specific exceptions.</p> <p>The snippet above is, of course, not a very realistic way to use this helper class, but shows what it does perfectly.</p> ]]></content:encoded> </item> <item> <title><![CDATA[Resolving types while stripping down nullables]]></title> <description><![CDATA[I&#39;m currently working on a WPF project that uses advanced validation for their screens. ]]></description> <link>//steven.thuriot.be/resolving-types-while-stripping-down-nullables</link> <guid isPermaLink="true">//steven.thuriot.be/resolving-types-while-stripping-down-nullables</guid> <pubDate>2013-11-27T12:10:00+00:00</pubDate> <content:encoded><![CDATA[<p>I&#39;m currently working on a WPF project that uses advanced validation for their screens.</p> <p>Each WPF control has a property that accepts a data type for the property you&#39;re binding it to. This datatype will be used during validation so illegal formats aren&#39;t filled in. (e.g. no strings when ints are expected, no ints when decimals are specified, etc...). We currently have a few metadata builders that simplify this process greatly by resolving types and setting them automatically.</p> <p>There is one catch, though. &lt;!--more--&gt;When binding to a nullable property, the base type is used rather than the nullable type.</p> <p>Coming up with a solution, was luckily not that hard. Rather than setting the datatype directly from the passed generic type, we added a little helper method. This method makes sure the correct type is always resolved.</p> <div class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">static</span> <span class="n">Type</span> <span class="n">GetDataType</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="nf">GetDataType</span><span class="p">(</span><span class="k">typeof</span> <span class="p">(</span><span class="n">T</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">static</span> <span class="n">Type</span> <span class="nf">GetDataType</span><span class="p">(</span><span class="n">Type</span> <span class="n">type</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">Nullable</span><span class="p">.</span><span class="n">GetUnderlyingType</span><span class="p">(</span><span class="n">type</span><span class="p">)</span> <span class="p">??</span> <span class="n">type</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>]]></content:encoded> </item> </channel> </rss>